---
title: å‰ç«¯æ•°æ®ç®¡ç†
date: 2025-07-21 10:00:00
categories:
- å‰ç«¯
tags:
- æ•°æ®ç®¡ç†
---

# å‰ç«¯æ•°æ®ç®¡ç†æ–¹æ¡ˆç²¾ç‚¼å¯¹æ¯”ï¼šReact, Vue, Umi å«DVA

## ğŸ§± çŠ¶æ€ç®¡ç†ç›®æ ‡

ç®€åŒ–çŠ¶æ€çš„ã€Œè¯»ã€å†™ã€å…±äº«ã€æŒä¹…åŒ–ã€
é€‚ç”¨äºï¼šç»„ä»¶é€šä¿¡ã€æœåŠ¡ç«¯ç¼“å­˜ã€å…¨å±€è®¾ç½®ã€UI æ§åˆ¶ç­‰

---

## âš› React æ•°æ®æµæ–¹æ¡ˆ

| æ–¹æ¡ˆ             | ä¼˜ç‚¹                      | ç¼ºç‚¹                  | é€‚ç”¨åœºæ™¯        |
| -------------- | ----------------------- | ------------------- | ----------- |
| `useState`     | åŸç”Ÿè½»é‡ï¼Œæ— éœ€ä¾èµ–               | æ— æ³•å…±äº«è·¨ç»„ä»¶çŠ¶æ€           | ç»„ä»¶å†…éƒ¨çŠ¶æ€      |
| `Context`      | åŸç”Ÿå…±äº«ï¼Œé€‚åˆç®€å•å…¨å±€å˜é‡ï¼ˆå¦‚ä¸»é¢˜ï¼‰      | ç²’åº¦ç²—ï¼Œæ›´æ–°å…¨é‡è§¦å‘ rerender | è½»é‡å…¨å±€çŠ¶æ€      |
| Redux Toolkit  | æ ‡å‡†ã€å¼ºç±»å‹ã€å®‰å…¨ã€DevTools æ”¯æŒä¼˜ç§€ | æ¨¡æ¿ä»£ç å¤šï¼Œå…¥é—¨æˆæœ¬é«˜         | å¤§å‹åº”ç”¨        |
| Zustand        | æ— æ¨¡æ¿ä»£ç ï¼Œæç®€ APIï¼Œæ¨¡å—åŒ–ä¼˜ç§€ï¼Œæ€§èƒ½å¥½  | TS æ¨å¯¼æœ‰ä¸€å®šå­¦ä¹ æˆæœ¬        | ä¸­å¤§å‹é¡¹ç›®ï¼Œæ¨è âœ…  |
| Recoil / Jotai | åŸå­åŒ–çŠ¶æ€ï¼Œé€‚åˆå±€éƒ¨åµŒå¥—ç»„ä»¶ä¼˜åŒ–        | ç¤¾åŒºæ´»è·ƒåº¦ä¸è¶³             | å®éªŒå‹ã€å¯è§†åŒ–é¡¹ç›®   |
| MobX           | å“åº”å¼ç¼–ç¨‹å¼ºå¤§ï¼Œä»£ç ç®€æ´            | éšå¼å‰¯ä½œç”¨å¤šï¼Œè°ƒè¯•å›°éš¾         | æ•°æ®é¢‘ç¹å˜åŒ–çš„äº¤äº’ç»„ä»¶ |

âœ… **æ¨èç»„åˆï¼š**

* ä¸­åå°ï¼šZustand
* å¤§å‹å¤æ‚é¡¹ç›®ï¼šRedux Toolkit
* é¡µé¢å¤æ‚åµŒå¥—ï¼šRecoil / MobX

---

## ğŸ§© Vue æ•°æ®æµæ–¹æ¡ˆï¼ˆVue 3ï¼‰

| æ–¹æ¡ˆ                 | ä¼˜ç‚¹                           | ç¼ºç‚¹                       | é€‚ç”¨åœºæ™¯         |
| ------------------ | ---------------------------- | ------------------------ | ------------ |
| `ref` / `reactive` | åŸç”Ÿï¼Œå“åº”å¼è¯­æ³•ç®€æ´                   | è·¨ç»„ä»¶å…±äº«ä¸æ–¹ä¾¿                 | ç»„ä»¶å†…éƒ¨çŠ¶æ€       |
| `provide/inject`   | åŸç”Ÿå…±äº«ï¼Œé€‚åˆä¾èµ–æ³¨å…¥ç±»ä¸šåŠ¡               | ä¸å¯å“åº” / ä½¿ç”¨å¤æ‚              | åµŒå¥—ç»„ä»¶é€šä¿¡       |
| Vuex               | æ¨¡å—åŒ–æ ‡å‡†ã€æˆç†Ÿ                     | å†™æ³•ç¹çã€ä¸æ”¯æŒ Composition API | Vue 2 é¡¹ç›®ç»´æŠ¤æœŸ  |
| **Pinia** âœ…        | å®˜æ–¹æ¨èï¼Œæ”¯æŒ Composition APIã€æ¨¡å—åŒ–å¥½ | æ’ä»¶ä½“ç³»ç›¸å¯¹è¾ƒå°                 | Vue 3 é¡¹ç›®é¦–é€‰ âœ… |

âœ… **æ¨èç»„åˆï¼š**

* Vue 3 æ–°é¡¹ç›®ï¼šPinia
* ç®€å•ç»„ä»¶ï¼šref / reactive
* çŠ¶æ€æŠ½è±¡å°è£…ï¼šè‡ªå®šä¹‰ useXXXStore + reactive

---

## âš™ Umi é¡¹ç›®æ•°æ®æµï¼ˆReact ç³»ï¼‰

Umi æœ¬èº«åŸºäº Reactï¼Œå› æ­¤æ”¯æŒæ‰€æœ‰ React çŠ¶æ€ç®¡ç†æ–¹æ¡ˆï¼Œå¦å¤–æä¾› 2 ç§ä¸“å±æœºåˆ¶ï¼š

### 1. `@umijs/plugins` - `plugin-model`ï¼ˆuseModelï¼‰

> âœ… å®˜æ–¹æ¨è Hooks æ•°æ®æµæ–¹æ¡ˆï¼Œ**æ˜¯ DVA æ›¿ä»£å“**

| ç‰¹ç‚¹            | è¯´æ˜                    |
| ------------- | --------------------- |
| è½»é‡ã€å‡½æ•°å¼        | ç±»ä¼¼ Zustand æ€ç»´ï¼Œæ¨èç»„åˆå¼æŠ½ç¦» |
| æ”¯æŒå…¨å±€å’Œå±€éƒ¨ model | å¯æ‹†åˆ†æ¨¡å—                 |
| æ”¯æŒå¼‚æ­¥ã€ç¼“å­˜ã€è®¢é˜…ç­‰   | ç»“åˆ `useRequest` ä½¿ç”¨æ›´å¼ºå¤§ |

é€‚åˆï¼šUmi 3/4 é¡¹ç›®ï¼ŒHooks é£æ ¼

---

### 2. âœ… **DVA**ï¼ˆUmi 2.x é»˜è®¤é›†æˆï¼ŒRedux + Redux-saga å°è£…ï¼‰

| ä¼˜ç‚¹                     | ç¼ºç‚¹                      |
| ---------------------- | ----------------------- |
| æˆç†Ÿç¨³å®šã€æ¨¡å—åŒ–æ¸…æ™°             | å†™æ³•é™ˆæ—§ã€æ ·æ¿å¤šã€ä¸æ”¯æŒ hooks      |
| æ”¯æŒ effectã€subscription | é‡ä¾èµ– redux-sagaï¼Œå¼‚æ­¥é€»è¾‘ä¸æ˜“ç»´æŠ¤ |

é€‚åˆï¼šUmi 2 é¡¹ç›®ã€éœ€è¦è®¢é˜…å¼æ¨¡å‹ã€å·²æœ‰å¤§é‡ DVA æ¨¡å—çš„é¡¹ç›®

---

### âš– Umi é¡¹ç›®é€‰å‹å»ºè®®

| é¡¹ç›®ç±»å‹      | æ¨èæ•°æ®æµ                      |
| --------- | -------------------------- |
| Umi 4 æ–°é¡¹ç›® | `plugin-model` âœ…           |
| è€é¡¹ç›®       | DVAï¼ˆé€æ­¥è¿ç§»ï¼‰                  |
| å¤šæ¨¡å—å¤æ‚     | Zustand + `plugin-model`ç»„åˆ |

---

## ğŸ“Œ é€‰å‹å»ºè®®ä¸€å›¾æµï¼ˆå…¨æ ˆè§†è§’ï¼‰

| æ¡†æ¶    | ç®€å•çŠ¶æ€     | å…±äº«çŠ¶æ€ï¼ˆä¸­å°ï¼‰   | å¤§å‹é¡¹ç›® / å¤šäººåä½œ            |
| ----- | -------- | ---------- | ---------------------- |
| React | useState | Zustand âœ…  | Redux Toolkit          |
| Vue   | ref      | Pinia âœ…    | Pinia + æ¨¡å—åŒ–å°è£…          |
| Umi   | useModel | useModel âœ… | Zustand / Reduxï¼ˆæ—  DVAï¼‰ |
| Umi 2 | useState | DVAï¼ˆç»´æŠ¤æœŸï¼‰   | å¯é€æ­¥è¿ç§» useModel         |

---

## âœ… æ€»ç»“ä¸€å¥è¯

> **React æ¨è Zustand / Reduxï¼ŒVue æ¨è Piniaï¼ŒUmi é¡¹ç›®é¦–é€‰ useModelï¼ŒDVA é€‚ç”¨äºæ—§é¡¹ç›®ç»´æŠ¤æœŸã€‚**
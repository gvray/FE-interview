<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-frame/vue3/1" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Vue3核心语法 | 前端面试</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://gvray.github.io/FE-interview/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://gvray.github.io/FE-interview/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://gvray.github.io/FE-interview/docs/frame/vue3/1"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Vue3核心语法 | 前端面试"><meta data-rh="true" name="description" content="OptionsAPI 与 CompositionAPI"><meta data-rh="true" property="og:description" content="OptionsAPI 与 CompositionAPI"><link data-rh="true" rel="icon" href="/FE-interview/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://gvray.github.io/FE-interview/docs/frame/vue3/1"><link data-rh="true" rel="alternate" href="https://gvray.github.io/FE-interview/docs/frame/vue3/1" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://gvray.github.io/FE-interview/docs/frame/vue3/1" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/FE-interview/blog/rss.xml" title="前端面试 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/FE-interview/blog/atom.xml" title="前端面试 Atom Feed"><link rel="stylesheet" href="/FE-interview/assets/css/styles.f03d2e94.css">
<script src="/FE-interview/assets/js/runtime~main.768f0ad8.js" defer="defer"></script>
<script src="/FE-interview/assets/js/main.bc0b370f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_Eduj" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><div class="announcementBar_wX4w" style="background-color:#0AC1CF;color:#000b34" role="banner"><div class="announcementBarPlaceholder_ZUmT"></div><div class="content_gHXk announcementBarContent_CTiG">⭐️ 如果您喜欢本网站，请点这里在<a target="_blank" class="cta" href="https://github.com/gvray/FE-interview"> <strong>GitHub</strong> </a>上给它一颗小星星！ ⭐️</div><button type="button" aria-label="关闭" class="clean-btn close closeButton_xMUW announcementBarClose_VbPQ"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/FE-interview/"><div class="navbar__logo"><img src="/FE-interview/img/logo.svg" alt="前端面试 Logo" class="themedComponent_R3Mz themedComponent--light_HCGW"><img src="/FE-interview/img/logo.svg" alt="前端面试 Logo" class="themedComponent_R3Mz themedComponent--dark_MXEB"></div><b class="navbar__title text--truncate">前端面试</b></a><a class="navbar__item navbar__link" href="/FE-interview/docs/basic/">基础</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/FE-interview/docs/frame/">框架</a><a class="navbar__item navbar__link" href="/FE-interview/docs/advance/">进阶</a><a class="navbar__item navbar__link" href="/FE-interview/docs/ai/">AI 开发</a><a class="navbar__item navbar__link" href="/FE-interview/docs/software/browser/">浏览器</a><a class="navbar__item navbar__link" href="/FE-interview/docs/pkg/">构建</a><a class="navbar__item navbar__link" href="/FE-interview/blog">实战案例</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/FE-interview/docs/network/">计算机网络</a><a class="navbar__item navbar__link" href="/FE-interview/docs/devops/">运维</a><a href="https://github.com/gvray/FE-interview" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_qWAS"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_rgSx colorModeToggle_mOat"><button class="clean-btn toggleButton_DUaE toggleButtonDisabled_L2KC" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_QZXE"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_mh1z"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_XIiB"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_DXLK"><div class="docsWrapper_fsaY"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_M8u6" type="button"></button><div class="docRoot_BevU"><aside class="theme-doc-sidebar-container docSidebarContainer_ITeq"><div class="sidebarViewport_i7kd"><div class="sidebar_FTAm"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_dlQ4 menuWithAnnouncementBar_rJLd"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/FE-interview/docs/frame/">前端框架</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/FE-interview/docs/category/react-1">React</a><button aria-label="展开侧边栏分类 &#x27;React&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/FE-interview/docs/category/electron-1">Electron</a><button aria-label="展开侧边栏分类 &#x27;Electron&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/FE-interview/docs/category/vue-1">Vue</a><button aria-label="展开侧边栏分类 &#x27;Vue&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/FE-interview/docs/category/vue3-1">Vue3</a><button aria-label="折叠侧边栏分类 &#x27;Vue3&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/FE-interview/docs/frame/vue3/">目录大纲</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/FE-interview/docs/frame/vue3/FAQ">FAQ?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/FE-interview/docs/frame/vue3/1">Vue3核心语法</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/FE-interview/docs/frame/vue3/2">路由</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/FE-interview/docs/frame/vue3/3">状态管理 pinia</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/FE-interview/docs/frame/vue3/4">组件通信</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/FE-interview/docs/frame/vue3/5">常用API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/FE-interview/docs/frame/vue3/6">Vue3新组件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/FE-interview/docs/frame/vue3/7">🧠 Vue watch vs watchEffect 全面对比</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/FE-interview/docs/frame/vue3/8">🎯 Vue scoped 样式穿透机制</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/FE-interview/docs/category/nextjs-2">NEXT.js</a><button aria-label="展开侧边栏分类 &#x27;NEXT.js&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/FE-interview/docs/category/angular-1">Angular</a><button aria-label="展开侧边栏分类 &#x27;Angular&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/FE-interview/docs/category/express-1">Express</a><button aria-label="展开侧边栏分类 &#x27;Express&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_Gt9H"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_yjae"><div class="docItemContainer_hUU6"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_NLwM" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/FE-interview/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_N32E"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/FE-interview/docs/category/vue3-1"><span itemprop="name">Vue3</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Vue3核心语法</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_XXs2 theme-doc-toc-mobile tocMobile_WYmW"><button type="button" class="clean-btn tocCollapsibleButton_gaGM">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>Vue3核心语法</h1>
<h2 class="anchor anchorWithStickyNavbar_p0MW" id="optionsapi-与-compositionapi">OptionsAPI 与 CompositionAPI<a href="#optionsapi-与-compositionapi" class="hash-link" aria-label="OptionsAPI 与 CompositionAPI的直接链接" title="OptionsAPI 与 CompositionAPI的直接链接">​</a></h2>
<ul>
<li><code>Vue2</code>的<code>API</code>设计是<code>Options</code>（配置）风格的。</li>
<li><code>Vue3</code>的<code>API</code>设计是<code>Composition</code>（组合）风格的。</li>
</ul>
<blockquote>
<p>Options API 的弊端</p>
</blockquote>
<p><code>Options</code>类型的 <code>API</code>，数据、方法、计算属性等，是分散在：<code>data</code>、<code>methods</code>、<code>computed</code>中的，若想新增或者修改一个需求，就需要分别修改：<code>data</code>、<code>methods</code>、<code>computed</code>，不便于维护和复用。</p>
<p><img decoding="async" loading="lazy" alt="选项" src="/FE-interview/assets/images/optionsapi-a525745756c1cc4c67b05fc0ee80eda9.gif" width="324" height="601" class="img_dMDY"></p>
<blockquote>
<p>Composition API 的优势</p>
</blockquote>
<p>可以用函数的方式，更加优雅的组织代码，让相关功能的代码更加有序的组织在一起。</p>
<p><img decoding="async" loading="lazy" alt="组合" src="/FE-interview/assets/images/compositionapi-dc08806389701afe6893fea316d6ba97.gif" width="592" height="502" class="img_dMDY"></p>
<h2 class="anchor anchorWithStickyNavbar_p0MW" id="setup函数常用的方式">setup函数常用的方式<a href="#setup函数常用的方式" class="hash-link" aria-label="setup函数常用的方式的直接链接" title="setup函数常用的方式的直接链接">​</a></h2>
<p><strong>在 setup() 函数中返回的对象会暴露给模板和组件实例</strong></p>
<p>其他的选项也可以通过组件实例来获取 setup() 暴露的属性：</p>
<div class="language-js codeBlockContainer_II2a theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vcV0"><pre tabindex="0" class="prism-code language-js codeBlock_pPtW thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_YvuI"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">script</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> ref </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;vue&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">setup</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> count </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ref</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 返回值会暴露给模板和其他的选项式 API 钩子</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      count</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">mounted</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">count</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">script</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">template</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button @click</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;count++&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> count </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">template</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup_iSbC"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_RZpa" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_hrWj"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LEag"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_Vglg alert alert--success"><div class="admonitionHeading_YAdt"><span class="admonitionIcon_ZDD_"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_exIj"><ul>
<li>setup函数中无法访问this</li>
<li>如果该组件是 Suspense 组件的后裔，可以是异步async setup()</li>
<li>也可以直接返回一个函数或者是代替模版显示的内容<!-- -->
<div class="language-js codeBlockContainer_II2a theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vcV0"><pre tabindex="0" class="prism-code language-js codeBlock_pPtW thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_YvuI"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">setup</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;这里直接替换模版显示的内容&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_iSbC"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_RZpa" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_hrWj"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LEag"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li><code>setup</code>函数会在<code>beforeCreate</code>之前调用，它是“领先”所有钩子执行的</li>
</ul></div></div>
<p><strong>访问props</strong></p>
<div class="language-js codeBlockContainer_II2a theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vcV0"><pre tabindex="0" class="prism-code language-js codeBlock_pPtW thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_YvuI"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">props</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">title</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">setup</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">title</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_iSbC"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_RZpa" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_hrWj"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LEag"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Setup 上下文</strong></p>
<div class="language-js codeBlockContainer_II2a theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vcV0"><pre tabindex="0" class="prism-code language-js codeBlock_pPtW thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_YvuI"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">setup</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">props</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> context</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 透传 Attributes（非响应式的对象，等价于 $attrs）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">attrs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 插槽（非响应式的对象，等价于 $slots）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">slots</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 触发事件（函数，等价于 $emit）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">emit</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 暴露公共属性（函数）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">expose</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_iSbC"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_RZpa" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_hrWj"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LEag"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>暴露公共属性</strong></p>
<div class="language-js codeBlockContainer_II2a theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vcV0"><pre tabindex="0" class="prism-code language-js codeBlock_pPtW thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_YvuI"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">setup</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">props</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> expose </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 让组件实例处于 “关闭状态”</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 即不向父组件暴露任何东西</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">expose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> publicCount </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ref</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> privateCount </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ref</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 有选择地暴露局部状态</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">expose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">count</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> publicCount </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_iSbC"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_RZpa" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_hrWj"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LEag"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_p0MW" id="setup-与-options-api-的关系">setup 与 Options API 的关系<a href="#setup-与-options-api-的关系" class="hash-link" aria-label="setup 与 Options API 的关系的直接链接" title="setup 与 Options API 的关系的直接链接">​</a></h3>
<ul>
<li><code>Vue2</code> 的配置（<code>data</code>、<code>methos</code>......）中<strong>可以访问到</strong> <code>setup</code>中的属性、方法。</li>
<li>但在<code>setup</code>中<strong>不能访问到</strong><code>Vue2</code>的配置（<code>data</code>、<code>methos</code>......）。</li>
<li>如果与<code>Vue2</code>冲突，则<code>setup</code>优先。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_p0MW" id="setup-语法糖">setup 语 法糖<a href="#setup-语法糖" class="hash-link" aria-label="setup 语法糖的直接链接" title="setup 语法糖的直接链接">​</a></h3>
<p><code>setup</code>函数有一个语法糖，这个语法糖，可以让我们把<code>setup</code>独立出去，代码如下：</p>
<div class="language-js codeBlockContainer_II2a theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vcV0"><pre tabindex="0" class="prism-code language-js codeBlock_pPtW thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_YvuI"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">template</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div </span><span class="token keyword" style="color:#00009f">class</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;person&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">h2</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">姓名：</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">h2</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">h2</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">年龄：</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">age</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">h2</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button @click</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;changName&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">修改名字</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button @click</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;changAge&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">年龄</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button @click</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;showTel&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">点我查看联系方式</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">template</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">script lang</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;ts&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&#x27;Person&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">script</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">!</span><span class="token operator" style="color:#393A34">--</span><span class="token plain"> 下面的写法是setup语法糖 </span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">script setup lang</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;ts&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//undefined</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 数据（注意：此时的name、age、tel都不是响应式数据）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;张三&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> tel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;13888888888&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 方法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">changName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;李四&#x27;</span><span class="token comment" style="color:#999988;font-style:italic">//注意：此时这么修改name页面是不变化的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">changAge</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">age</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//注意：此时这么修改age页面是不变化的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">showTel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">script</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup_iSbC"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_RZpa" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_hrWj"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LEag"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>扩展：上述代码，还需要编写一个不写<code>setup</code>的<code>script</code>标签，去指定组件名字，比较麻烦，我们可以借助<code>vite</code>中的插件简化</p>
<ol>
<li>第一步：<code>npm i vite-plugin-vue-setup-extend -D</code></li>
<li>第二步：<code>vite.config.ts</code></li>
</ol>
<div class="language-jsx codeBlockContainer_II2a theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vcV0"><pre tabindex="0" class="prism-code language-jsx codeBlock_pPtW thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_YvuI"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> defineConfig </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;vite&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">VueSetupExtend</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;vite-plugin-vue-setup-extend&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">defineConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">VueSetupExtend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup_iSbC"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_RZpa" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_hrWj"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LEag"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>第三步：<code>&lt;script setup lang=&quot;ts&quot; name=&quot;Person&quot;&gt;</code></li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_p0MW" id="响应式数据">响应式数据<a href="#响应式数据" class="hash-link" aria-label="响应式数据的直接链接" title="响应式数据的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_p0MW" id="ref-对比-reactive">ref 对比 reactive<a href="#ref-对比-reactive" class="hash-link" aria-label="ref 对比 reactive的直接链接" title="ref 对比 reactive的直接链接">​</a></h3>
<p>宏观角度看：</p>
<blockquote>
<ol>
<li>
<p><code>ref</code>用来定义：<strong>基本类型数据</strong>、<strong>对象类型数据</strong>；</p>
</li>
<li>
<p><code>reactive</code>用来定义：<strong>对象类型数据</strong>。</p>
</li>
</ol>
</blockquote>
<ul>
<li>区别：</li>
</ul>
<blockquote>
<ol>
<li>
<p><code>ref</code>创建的变量必须使用<code>.value</code>（可以使用<code>volar</code>插件自动添加<code>.value</code>）。</p>
<p><img decoding="async" loading="lazy" alt="自动补全" src="data:image/png;base64,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" width="597" height="123" class="img_dMDY"></p>
</li>
<li>
<p><code>reactive</code>重新分配一个新对象，会<strong>失去</strong>响应式（可以使用<code>Object.assign</code>去整体替换）。</p>
</li>
</ol>
</blockquote>
<ul>
<li>使用原则：</li>
</ul>
<blockquote>
<ol>
<li>若需要一个基本类型的响应式数据，必须使用<code>ref</code>。</li>
<li>若需要一个响应式对象，层级不深，<code>ref</code>、<code>reactive</code>都可以。</li>
<li>若需要一个响应式对象，且层级较深，推荐使用<code>reactive</code>。</li>
</ol>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_p0MW" id="torefs-与-toref">toRefs 与 toRef<a href="#torefs-与-toref" class="hash-link" aria-label="toRefs 与 toRef的直接链接" title="toRefs 与 toRef的直接链接">​</a></h3>
<ul>
<li>作用：将一个响应式对象中的每一个属性，转换为<code>ref</code>对象。</li>
<li>备注：<code>toRefs</code>与<code>toRef</code>功能一致，但<code>toRefs</code>可以批量转换。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_p0MW" id="计算属性">计算属性<a href="#计算属性" class="hash-link" aria-label="计算属性的直接链接" title="计算属性的直接链接">​</a></h2>
<p>作用：根据已有数据计算出新数据（和<code>Vue2</code>中的<code>computed</code>作用一致）。</p>
<div class="language-vue codeBlockContainer_II2a theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vcV0"><pre tabindex="0" class="prism-code language-vue codeBlock_pPtW thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_YvuI"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    姓：&lt;input type=&quot;text&quot; v-model=&quot;firstName&quot;&gt; &lt;br&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    名：&lt;input type=&quot;text&quot; v-model=&quot;lastName&quot;&gt; &lt;br&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    全名：&lt;span&gt;{{fullName}}&lt;/span&gt; &lt;br&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeFullName&quot;&gt;全名改为：li-si&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script setup lang=&quot;ts&quot; name=&quot;App&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {ref,computed} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let firstName = ref(&#x27;zhang&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let lastName = ref(&#x27;san&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 计算属性——只读取，不修改</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /* let fullName = computed(()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return firstName.value + &#x27;-&#x27; + lastName.value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }) */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 计算属性——既读取又修改</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let fullName = computed({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 读取</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    get(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return firstName.value + &#x27;-&#x27; + lastName.value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 修改</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    set(val){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      console.log(&#x27;有人修改了fullName&#x27;,val)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      firstName.value = val.split(&#x27;-&#x27;)[0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      lastName.value = val.split(&#x27;-&#x27;)[1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeFullName(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fullName.value = &#x27;li-si&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  } </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup_iSbC"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_RZpa" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_hrWj"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LEag"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_p0MW" id="watch监听">watch监听<a href="#watch监听" class="hash-link" aria-label="watch监听的直接链接" title="watch监听的直接链接">​</a></h2>
<ul>
<li>作用：监视数据的变化（和<code>Vue2</code>中的<code>watch</code>作用一致）</li>
<li>特点：<code>Vue3</code>中的<code>watch</code>只能监视以下<strong>四种数据</strong>：</li>
</ul>
<blockquote>
<ol>
<li><code>ref</code>定义的数据。</li>
<li><code>reactive</code>定义的数据。</li>
<li>函数返回一个值（<code>getter</code>函数）。</li>
<li>一个包含上述内容的数组。</li>
</ol>
</blockquote>
<p>我们在<code>Vue3</code>中使用<code>watch</code>的时候，通常会遇到以下几种情况：</p>
<h3 class="anchor anchorWithStickyNavbar_p0MW" id="-情况一">* 情况一<a href="#-情况一" class="hash-link" aria-label="* 情况一的直接链接" title="* 情况一的直接链接">​</a></h3>
<p>监视<code>ref</code>定义的【基本类型】数据：直接写数据名即可，监视的是其<code>value</code>值的改变。</p>
<div class="language-vue codeBlockContainer_II2a theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vcV0"><pre tabindex="0" class="prism-code language-vue codeBlock_pPtW thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_YvuI"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h1&gt;情况一：监视【ref】定义的【基本类型】数据&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;当前求和为：{{sum}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeSum&quot;&gt;点我sum+1&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {ref,watch} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let sum = ref(0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeSum(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sum.value += 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 监视，情况一：监视【ref】定义的【基本类型】数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  const stopWatch = watch(sum,(newValue,oldValue)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;sum变化了&#x27;,newValue,oldValue)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(newValue &gt;= 10){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      stopWatch()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup_iSbC"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_RZpa" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_hrWj"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LEag"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_p0MW" id="-情况二">* 情况二<a href="#-情况二" class="hash-link" aria-label="* 情况二的直接链接" title="* 情况二的直接链接">​</a></h3>
<p>监视<code>ref</code>定义的【对象类型】数据：直接写数据名，监视的是对象的【地址值】，若想监视对象内部的数据，要手动开启深度监视。</p>
<blockquote>
<p>注意：</p>
<ul>
<li>
<p>若修改的是<code>ref</code>定义的对象中的属性，<code>newValue</code> 和 <code>oldValue</code> 都是新值，因为它们是同一个对象。</p>
</li>
<li>
<p>若修改整个<code>ref</code>定义的对象，<code>newValue</code> 是新值， <code>oldValue</code> 是旧值，因为不是同一个对象了。</p>
</li>
</ul>
</blockquote>
<div class="language-vue codeBlockContainer_II2a theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vcV0"><pre tabindex="0" class="prism-code language-vue codeBlock_pPtW thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_YvuI"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h1&gt;情况二：监视【ref】定义的【对象类型】数据&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;姓名：{{ person.name }}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;年龄：{{ person.age }}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeName&quot;&gt;修改名字&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeAge&quot;&gt;修改年龄&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changePerson&quot;&gt;修改整个人&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {ref,watch} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let person = ref({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name:&#x27;张三&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age:18</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeName(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.value.name += &#x27;~&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeAge(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.value.age += 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changePerson(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.value = {name:&#x27;李四&#x27;,age:90}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /* </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    监视，情况一：监视【ref】定义的【对象类型】数据，监视的是对象的地址值，若想监视对象内部属性的变化，需要手动开启深度监视</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    watch的第一个参数是：被监视的数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    watch的第二个参数是：监视的回调</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    watch的第三个参数是：配置对象（deep、immediate等等.....） </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  watch(person,(newValue,oldValue)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;person变化了&#x27;,newValue,oldValue)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },{deep:true})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup_iSbC"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_RZpa" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_hrWj"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LEag"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_p0MW" id="--情况三">*  情况三<a href="#--情况三" class="hash-link" aria-label="*  情况三的直接链接" title="*  情况三的直接链接">​</a></h3>
<p>监视<code>reactive</code>定义的【对象类型】数据，且默认开启了深度监视。</p>
<div class="language-vue codeBlockContainer_II2a theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vcV0"><pre tabindex="0" class="prism-code language-vue codeBlock_pPtW thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_YvuI"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h1&gt;情况三：监视【reactive】定义的【对象类型】数据&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;姓名：{{ person.name }}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;年龄：{{ person.age }}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeName&quot;&gt;  修改名字&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeAge&quot;&gt;修改年龄&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changePerson&quot;&gt;修改整个人&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;hr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;测试：{{obj.a.b.c}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;test&quot;&gt;修改obj.a.b.c&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {reactive,watch} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let person = reactive({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name:&#x27;张三&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age:18</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let obj = reactive({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      b:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        c:666</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeName(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.name += &#x27;~&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeAge(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.age += 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changePerson(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Object.assign(person,{name:&#x27;李四&#x27;,age:80})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function test(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    obj.a.b.c = 888</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 监视，情况三：监视【reactive】定义的【对象类型】数据，且默认是开启深度监视的</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  watch(person,(newValue,oldValue)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;person变化了&#x27;,newValue,oldValue)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  watch(obj,(newValue,oldValue)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;Obj变化了&#x27;,newValue,oldValue)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup_iSbC"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_RZpa" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_hrWj"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LEag"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_p0MW" id="-情况四">* 情况四<a href="#-情况四" class="hash-link" aria-label="* 情况四的直接链接" title="* 情况四的直接链接">​</a></h3>
<p>监视<code>ref</code>或<code>reactive</code>定义的【对象类型】数据中的<strong>某个属性</strong>，注意点如下：</p>
<ol>
<li>若该属性值<strong>不是</strong>【对象类型】，需要写成函数形式。</li>
<li>若该属性值是<strong>依然</strong>是【对象类型】，可直接编，也可写成函数，建议写成函数。</li>
</ol>
<p>结论：监视的要是对象里的属性，那么最好写函数式，注意点：若是对象监视的是地址值，需要关注对象内部，需要手动开启深度监视。</p>
<div class="language-vue codeBlockContainer_II2a theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vcV0"><pre tabindex="0" class="prism-code language-vue codeBlock_pPtW thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_YvuI"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h1&gt;情况四：监视【ref】或【reactive】定义的【对象类型】数据中的某个属性&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;姓名：{{ person.name }}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;年龄：{{ person.age }}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;汽车：{{ person.car.c1 }}、{{ person.car.c2 }}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeName&quot;&gt;修改名字&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeAge&quot;&gt;修改年龄&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeC1&quot;&gt;修改第一台车&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeC2&quot;&gt;修改第二台车&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeCar&quot;&gt;修改整个车&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {reactive,watch} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let person = reactive({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name:&#x27;张三&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age:18,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    car:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      c1:&#x27;奔驰&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      c2:&#x27;宝马&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeName(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.name += &#x27;~&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeAge(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.age += 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeC1(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.car.c1 = &#x27;奥迪&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeC2(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.car.c2 = &#x27;大众&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeCar(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.car = {c1:&#x27;雅迪&#x27;,c2:&#x27;爱玛&#x27;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 监视，情况四：监视响应式对象中的某个属性，且该属性是基本类型的，要写成函数式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /* watch(()=&gt; person.name,(newValue,oldValue)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;person.name变化了&#x27;,newValue,oldValue)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }) */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 监视，情况四：监视响应式对象中的某个属性，且该属性是对象类型的，可以直接写，也能写函数，更推荐写函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  watch(()=&gt;person.car,(newValue,oldValue)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;person.car变化了&#x27;,newValue,oldValue)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },{deep:true})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup_iSbC"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_RZpa" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_hrWj"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LEag"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_p0MW" id="-情况五">* 情况五<a href="#-情况五" class="hash-link" aria-label="* 情况五的直接链接" title="* 情况五的直接链接">​</a></h3>
<p>监视上述的多个数据</p>
<div class="language-vue codeBlockContainer_II2a theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vcV0"><pre tabindex="0" class="prism-code language-vue codeBlock_pPtW thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_YvuI"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h1&gt;情况五：监视上述的多个数据&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;姓名：{{ person.name }}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;年龄：{{ person.age }}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;汽车：{{ person.car.c1 }}、{{ person.car.c2 }}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeName&quot;&gt;修改名字&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeAge&quot;&gt;修改年龄&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeC1&quot;&gt;修改第一台车&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeC2&quot;&gt;修改第二台车&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeCar&quot;&gt;修改整个车&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {reactive,watch} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let person = reactive({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name:&#x27;张三&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age:18,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    car:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      c1:&#x27;奔驰&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      c2:&#x27;宝马&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeName(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.name += &#x27;~&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeAge(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.age += 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeC1(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.car.c1 = &#x27;奥迪&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeC2(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.car.c2 = &#x27;大众&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeCar(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.car = {c1:&#x27;雅迪&#x27;,c2:&#x27;爱玛&#x27;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 监视，情况五：监视上述的多个数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  watch([()=&gt;person.name,person.car],(newValue,oldValue)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;person.car变化了&#x27;,newValue,oldValue)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },{deep:true})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup_iSbC"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_RZpa" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_hrWj"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LEag"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_p0MW" id="watcheffect">watchEffect<a href="#watcheffect" class="hash-link" aria-label="watchEffect的直接链接" title="watchEffect的直接链接">​</a></h2>
<p>官网：立即运行一个函数，同时响应式地追踪其依赖，并在依赖更改时重新执行该函数。</p>
<p><code>watch</code>对比<code>watchEffect</code></p>
<blockquote>
<ol>
<li>
<p>都能监听响应式数据的变化，不同的是监听数据变化的方式不同</p>
</li>
<li>
<p><code>watch</code>：要明确指出监视的数据</p>
</li>
<li>
<p><code>watchEffect</code>：不用明确指出监视的数据（函数中用到哪些属性，那就监视哪些属性）。</p>
</li>
</ol>
</blockquote>
<p>示例代码：</p>
<div class="language-vue codeBlockContainer_II2a theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vcV0"><pre tabindex="0" class="prism-code language-vue codeBlock_pPtW thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_YvuI"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h1&gt;需求：水温达到50℃，或水位达到20cm，则联系服务器&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2 id=&quot;demo&quot;&gt;水温：{{temp}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;水位：{{height}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changePrice&quot;&gt;水温+1&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeSum&quot;&gt;水位+10&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {ref,watch,watchEffect} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let temp = ref(0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let height = ref(0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changePrice(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    temp.value += 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeSum(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    height.value += 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 用watch实现，需要明确的指出要监视：temp、height</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  watch([temp,height],(value)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 从value中获取最新的temp值、height值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const [newTemp,newHeight] = value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 室温达到50℃，或水位达到20cm，立刻联系服务器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(newTemp &gt;= 50 || newHeight &gt;= 20){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      console.log(&#x27;联系服务器&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 用watchEffect实现，不用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  const stopWtach = watchEffect(()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 室温达到50℃，或水位达到20cm，立刻联系服务器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(temp.value &gt;= 50 || height.value &gt;= 20){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      console.log(document.getElementById(&#x27;demo&#x27;)?.innerText)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      console.log(&#x27;联系服务器&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 水温达到100，或水位达到50，取消监视</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(temp.value === 100 || height.value === 50){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      console.log(&#x27;清理了&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      stopWtach()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup_iSbC"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_RZpa" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_hrWj"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LEag"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_p0MW" id="标签的-ref-属性">标签的 ref 属性<a href="#标签的-ref-属性" class="hash-link" aria-label="标签的 ref 属性的直接链接" title="标签的 ref 属性的直接链接">​</a></h2>
<p>作用：用于注册模板引用。</p>
<blockquote>
<ul>
<li>
<p>用在普通<code>DOM</code>标签上，获取的是<code>DOM</code>节点。</p>
</li>
<li>
<p>用在组件标签上，获取的是组件实例对象。</p>
</li>
</ul>
</blockquote>
<p>用在普通<code>DOM</code>标签上：</p>
<div class="language-vue codeBlockContainer_II2a theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vcV0"><pre tabindex="0" class="prism-code language-vue codeBlock_pPtW thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_YvuI"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h1 ref=&quot;title1&quot;&gt;尚硅谷&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2 ref=&quot;title2&quot;&gt;前端&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h3 ref=&quot;title3&quot;&gt;Vue&lt;/h3&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;input type=&quot;text&quot; ref=&quot;inpt&quot;&gt; &lt;br&gt;&lt;br&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;showLog&quot;&gt;点我打印内容&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {ref} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let title1 = ref()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let title2 = ref()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let title3 = ref()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function showLog(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 通过id获取元素</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const t1 = document.getElementById(&#x27;title1&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 打印内容</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log((t1 as HTMLElement).innerText)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log((&lt;HTMLElement&gt;t1).innerText)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(t1?.innerText)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		/************************************/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 通过ref获取元素</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(title1.value)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(title2.value)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(title3.value)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup_iSbC"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_RZpa" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_hrWj"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LEag"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>用在组件标签上：</p>
<div class="language-vue codeBlockContainer_II2a theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vcV0"><pre tabindex="0" class="prism-code language-vue codeBlock_pPtW thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_YvuI"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!-- 父组件App.vue --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;Person ref=&quot;ren&quot;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;button @click=&quot;test&quot;&gt;测试&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;App&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import Person from &#x27;./components/Person.vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {ref} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let ren = ref()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function test(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(ren.value.name)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(ren.value.age)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!-- 子组件Person.vue中要使用defineExpose暴露内容 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {ref,defineExpose} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	// 数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let name = ref(&#x27;张三&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let age = ref(18)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /****************************/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /****************************/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 使用defineExpose将组件中的数据交给外部</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  defineExpose({name,age})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup_iSbC"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_RZpa" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_hrWj"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LEag"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_p0MW" id="props">props<a href="#props" class="hash-link" aria-label="props的直接链接" title="props的直接链接">​</a></h2>
<blockquote>
<div class="language-js codeBlockContainer_II2a theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vcV0"><pre tabindex="0" class="prism-code language-js codeBlock_pPtW thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_YvuI"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 定义一个接口，限制每个Person对象的格式</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name">PersonInter</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 定义一个自定义类型Persons</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> type </span><span class="token maybe-class-name">Persons</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Array</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">PersonInter</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup_iSbC"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_RZpa" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_hrWj"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LEag"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>App.vue</code>中代码：</p>
<div class="language-vue codeBlockContainer_II2a theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vcV0"><pre tabindex="0" class="prism-code language-vue codeBlock_pPtW thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_YvuI"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	&lt;Person :list=&quot;persons&quot;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;App&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import Person from &#x27;./components/Person.vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import {reactive} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> import {type Persons} from &#x27;./types&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> let persons = reactive&lt;Persons&gt;([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {id:&#x27;e98219e12&#x27;,name:&#x27;张三&#x27;,age:18},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   {id:&#x27;e98219e13&#x27;,name:&#x27;李四&#x27;,age:19},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {id:&#x27;e98219e14&#x27;,name:&#x27;王五&#x27;,age:20}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_iSbC"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_RZpa" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_hrWj"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LEag"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>Person.vue</code>中代码：</p>
<div class="language-Vue language-vue codeBlockContainer_II2a theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vcV0"><pre tabindex="0" class="prism-code language-vue codeBlock_pPtW thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_YvuI"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;ul&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;li v-for=&quot;item in list&quot; :key=&quot;item.id&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     {{item.name}}--{{item.age}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &lt;/li&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &lt;/ul&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import {defineProps} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import {type PersonInter} from &#x27;@/types&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 第一种写法：仅接收</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// const props = defineProps([&#x27;list&#x27;])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 第二种写法：接收+限制类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// defineProps&lt;{list:Persons}&gt;()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 第三种写法：接收+限制类型+指定默认值+限制必要性</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let props = withDefaults(defineProps&lt;{list?:Persons}&gt;(),{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  list:()=&gt;[{id:&#x27;asdasg01&#x27;,name:&#x27;小猪佩奇&#x27;,age:18}]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">console.log(props)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup_iSbC"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_RZpa" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_hrWj"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LEag"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_p0MW" id="生命周期">生命周期<a href="#生命周期" class="hash-link" aria-label="生命周期的直接链接" title="生命周期的直接链接">​</a></h2>
<ul>
<li>
<p>概念：<code>Vue</code>组件实例在创建时要经历一系列的初始化步骤，在此过程中<code>Vue</code>会在合适的时机，调用特定的函数，从而让开发者有机会在特定阶段运行自己的代码，这些特定的函数统称为：生命周期钩子</p>
</li>
<li>
<p>规律：</p>
<blockquote>
<p>生命周期整体分为四个阶段，分别是：<strong>创建、挂载、更新、销毁</strong>，每个阶段都有两个钩子，一前一后。</p>
</blockquote>
</li>
<li>
<p><code>Vue2</code>的生命周期</p>
<blockquote>
<p>创建阶段：<code>beforeCreate</code>、<code>created</code></p>
<p>挂载阶段：<code>beforeMount</code>、<code>mounted</code></p>
<p>更新阶段：<code>beforeUpdate</code>、<code>updated</code></p>
<p>销毁阶段：<code>beforeDestroy</code>、<code>destroyed</code></p>
</blockquote>
</li>
<li>
<p><code>Vue3</code>的生命周期</p>
<blockquote>
<p>创建阶段：<code>setup</code></p>
<p>挂载阶段：<code>onBeforeMount</code>、<code>onMounted</code></p>
<p>更新阶段：<code>onBeforeUpdate</code>、<code>onUpdated</code></p>
<p>卸载阶段：<code>onBeforeUnmount</code>、<code>onUnmounted</code></p>
</blockquote>
</li>
<li>
<p>常用的钩子：<code>onMounted</code>(挂载完毕)、<code>onUpdated</code>(更新完毕)、<code>onBeforeUnmount</code>(卸载之前)</p>
</li>
<li>
<p>示例代码：</p>
<div class="language-vue codeBlockContainer_II2a theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vcV0"><pre tabindex="0" class="prism-code language-vue codeBlock_pPtW thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_YvuI"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;当前求和为：{{ sum }}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeSum&quot;&gt;点我sum+1&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!-- vue3写法 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ref, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    onBeforeMount, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    onMounted, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    onBeforeUpdate, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    onUpdated, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    onBeforeUnmount, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    onUnmounted </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  } from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let sum = ref(0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeSum() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sum.value += 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  console.log(&#x27;setup&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 生命周期钩子</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  onBeforeMount(()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;挂载之前&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  onMounted(()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;挂载完毕&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  onBeforeUpdate(()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;更新之前&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  onUpdated(()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;更新完毕&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  onBeforeUnmount(()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;卸载之前&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  onUnmounted(()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;卸载完毕&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup_iSbC"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_RZpa" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_hrWj"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LEag"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<p><strong>嵌套父子组件</strong></p>
<p><strong>vue2</strong></p>
<p>当父组件和子组件一起加载时，控制台输出如下：</p>
<ul>
<li>Parent beforeCreate</li>
<li>Parent created</li>
<li>Parent beforeMount 在这里去递归子组件</li>
<li>Child beforeCreate</li>
<li>Child created</li>
<li>Child beforeMount</li>
<li>Child mounted</li>
<li>Parent mounted</li>
</ul>
<p>组件更新时的顺序</p>
<ul>
<li>Parent beforeUpdate</li>
<li>Child beforeUpdate</li>
<li>Child updated</li>
<li>Parent updated</li>
</ul>
<p>组件销毁时的顺序</p>
<ul>
<li>Parent beforeDestroy</li>
<li>Child beforeDestroy</li>
<li>Child destroyed</li>
<li>Parent destroyed</li>
</ul>
<p><strong>总结</strong>
Vue 2 的生命周期钩子函数在父子组件之间的执行顺序如下：</p>
<p>在创建和挂载时，父组件的钩子先执行，接着是子组件的钩子。</p>
<p>在更新时，父组件的 beforeUpdate 钩子先执行，接着是子组件的 beforeUpdate，然后是子组件的 updated，最后是父组件的 updated。</p>
<p>在销毁时，父组件的 beforeDestroy 钩子先执行，接着是子组件的 beforeDestroy，然后是子组件的 destroyed，最后是父组件的 destroyed。</p>
<p><strong>vue3</strong></p>
<p>当父组件和子组件一起加载时，控制台输出如下：</p>
<ul>
<li>Parent setup</li>
<li>Parent beforeMount</li>
<li>Child setup</li>
<li>Child beforeMount</li>
<li>Child mounted</li>
<li>Parent mounted</li>
</ul>
<p>组件更新时的顺序</p>
<ul>
<li>Parent beforeUpdate</li>
<li>Child beforeUpdate</li>
<li>Child updated</li>
<li>Parent updated</li>
</ul>
<p>组件销毁时的顺序</p>
<ul>
<li>Parent beforeUnmount</li>
<li>Child beforeUnmount</li>
<li>Child unmounted</li>
<li>Parent unmounted
<strong>总结</strong></li>
</ul>
<p>生命周期钩子函数的执行顺序如下：</p>
<p>在创建和挂载时，父组件的 setup 和生命周期钩子先执行，接着是子组件的 setup 和生命周期钩子。</p>
<p>在更新时，父组件的 beforeUpdate 钩子先执行，接着是子组件的 beforeUpdate，然后是子组件的 updated，最后是父组件的 updated。</p>
<p>在销毁时，父组件的 beforeUnmount 钩子先执行，接着是子组件的 beforeUnmount，然后是子组件的 unmounted，最后是父组件的 unmounted。</p>
<h2 class="anchor anchorWithStickyNavbar_p0MW" id="自定义hook">自定义hook<a href="#自定义hook" class="hash-link" aria-label="自定义hook的直接链接" title="自定义hook的直接链接">​</a></h2>
<ul>
<li>
<p>什么是<code>hook</code>？—— 本质是一个函数，把<code>setup</code>函数中使用的<code>Composition API</code>进行了封装，类似于<code>vue2.x</code>中的<code>mixin</code>。</p>
</li>
<li>
<p>自定义<code>hook</code>的优势：复用代码, 让<code>setup</code>中的逻辑更清楚易懂。</p>
</li>
</ul>
<p>示例代码：</p>
<ul>
<li>
<p><code>useSum.ts</code>中内容如下：</p>
<div class="language-js codeBlockContainer_II2a theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vcV0"><pre tabindex="0" class="prism-code language-js codeBlock_pPtW thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_YvuI"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports">ref</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports">onMounted</span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;vue&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> sum </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ref</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">increment</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sum</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">decrement</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sum</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">onMounted</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">increment</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">//向外部暴露数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">sum</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">increment</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">decrement</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">		</span><br></span></code></pre><div class="buttonGroup_iSbC"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_RZpa" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_hrWj"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LEag"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><code>useDog.ts</code>中内容如下：</p>
<div class="language-js codeBlockContainer_II2a theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vcV0"><pre tabindex="0" class="prism-code language-js codeBlock_pPtW thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_YvuI"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports">reactive</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports">onMounted</span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;vue&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> axios</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">{</span><span class="token known-class-name class-name">AxiosError</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;axios&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> dogList </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> reactive</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">string</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 方法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getDog</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 发请求</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> axios</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;https://dog.ceo/api/breed/pembroke/images/random&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 维护数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      dogList</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 处理错误</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token known-class-name class-name">AxiosError</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 挂载钩子</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">onMounted</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">getDog</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">//向外部暴露数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">dogList</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">getDog</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_iSbC"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_RZpa" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_hrWj"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LEag"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>组件中具体使用：</p>
<div class="language-vue codeBlockContainer_II2a theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vcV0"><pre tabindex="0" class="prism-code language-vue codeBlock_pPtW thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_YvuI"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;h2&gt;当前求和为：{{sum}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;button @click=&quot;increment&quot;&gt;点我+1&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;button @click=&quot;decrement&quot;&gt;点我-1&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;hr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;img v-for=&quot;(u,index) in dogList.urlList&quot; :key=&quot;index&quot; :src=&quot;(u as string)&quot;&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;span v-show=&quot;dogList.isLoading&quot;&gt;加载中......&lt;/span&gt;&lt;br&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;button @click=&quot;getDog&quot;&gt;再来一只狗&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {defineComponent} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  export default defineComponent({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name:&#x27;App&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script setup lang=&quot;ts&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import useSum from &#x27;./hooks/useSum&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import useDog from &#x27;./hooks/useDog&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let {sum,increment,decrement} = useSum()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let {dogList,getDog} = useDog()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup_iSbC"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_RZpa" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_hrWj"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LEag"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/gvray/FE-interview/tree/main/docs/frame/vue3/1.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_BeV9" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_VoS0"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/FE-interview/docs/frame/vue3/FAQ"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">FAQ?</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/FE-interview/docs/frame/vue3/2"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">路由</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_aKmz thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#optionsapi-与-compositionapi" class="table-of-contents__link toc-highlight">OptionsAPI 与 CompositionAPI</a></li><li><a href="#setup函数常用的方式" class="table-of-contents__link toc-highlight">setup函数常用的方式</a><ul><li><a href="#setup-与-options-api-的关系" class="table-of-contents__link toc-highlight">setup 与 Options API 的关系</a></li><li><a href="#setup-语法糖" class="table-of-contents__link toc-highlight">setup 语法糖</a></li></ul></li><li><a href="#响应式数据" class="table-of-contents__link toc-highlight">响应式数据</a><ul><li><a href="#ref-对比-reactive" class="table-of-contents__link toc-highlight">ref 对比 reactive</a></li><li><a href="#torefs-与-toref" class="table-of-contents__link toc-highlight">toRefs 与 toRef</a></li></ul></li><li><a href="#计算属性" class="table-of-contents__link toc-highlight">计算属性</a></li><li><a href="#watch监听" class="table-of-contents__link toc-highlight">watch监听</a><ul><li><a href="#-情况一" class="table-of-contents__link toc-highlight">* 情况一</a></li><li><a href="#-情况二" class="table-of-contents__link toc-highlight">* 情况二</a></li><li><a href="#--情况三" class="table-of-contents__link toc-highlight">*  情况三</a></li><li><a href="#-情况四" class="table-of-contents__link toc-highlight">* 情况四</a></li><li><a href="#-情况五" class="table-of-contents__link toc-highlight">* 情况五</a></li></ul></li><li><a href="#watcheffect" class="table-of-contents__link toc-highlight">watchEffect</a></li><li><a href="#标签的-ref-属性" class="table-of-contents__link toc-highlight">标签的 ref 属性</a></li><li><a href="#props" class="table-of-contents__link toc-highlight">props</a></li><li><a href="#生命周期" class="table-of-contents__link toc-highlight">生命周期</a></li><li><a href="#自定义hook" class="table-of-contents__link toc-highlight">自定义hook</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">面试宝典</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/FE-interview/docs">八股文(ALL.)</a></li><li class="footer__item"><a class="footer__link-item" href="/FE-interview/docs/category/设计模式">设计模式</a></li><li class="footer__item"><a class="footer__link-item" href="/FE-interview/docs/category/算法">算法</a></li><li class="footer__item"><a class="footer__link-item" href="/FE-interview/docs/category/软件服务">软件服务</a></li><li class="footer__item"><a class="footer__link-item" href="/FE-interview/docs/category/服务端开发">服务端开发</a></li><li class="footer__item"><a class="footer__link-item" href="/FE-interview/docs/category/手写练习场">手写练习场</a></li></ul></div><div class="col footer__col"><div class="footer__title">多端开发</div><ul class="footer__items clean-list"><li class="footer__item"><a href="#" class="footer__link-item">移动端</a></li><li class="footer__item"><a href="#" class="footer__link-item">小程序</a></li><li class="footer__item"><a class="footer__link-item" href="/FE-interview/docs/category/移动端开发">桌面软件</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="#" class="footer__link-item">Stack Overflow</a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/FE-interview/blog">博客</a></li><li class="footer__item"><a href="https://github.com/gvray/FE-interview" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_qWAS"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 FE-interview. Built with GavinRay's Docusaurus.</div></div></div></footer></div>
</body>
</html>